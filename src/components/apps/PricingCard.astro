---
interface Props {
  name: string;
  price: string;
  period?: string;
  description: string;
  features: string[];
  highlighted?: boolean;
  badge?: string;
  index?: number;
}

const { name, price, period, description, features, highlighted = false, badge, index = 0 } = Astro.props;
---

<div
  class:list={[
    `reveal stagger-${Math.min(index + 1, 6)} relative p-8 rounded-2xl transition-all duration-300`,
    highlighted
      ? 'bg-gradient-to-br from-gray-900 to-gray-800 dark:from-white dark:to-gray-100 text-white dark:text-gray-900 shadow-2xl shadow-gray-900/30 dark:shadow-gray-200/30 scale-105'
      : 'card hover:shadow-xl hover:-translate-y-1',
  ]}
>
  {badge && (
    <div class="absolute -top-4 left-1/2 -translate-x-1/2">
      <span class="badge-gradient shadow-lg">{badge}</span>
    </div>
  )}

  <div class="text-center mb-8">
    <h3 class:list={[
      "text-xl font-display font-bold mb-2",
      highlighted ? 'text-white dark:text-gray-900' : 'text-gray-900 dark:text-white'
    ]}>
      {name}
    </h3>
    <p class:list={[
      "text-sm mb-6",
      highlighted ? 'text-gray-300 dark:text-gray-600' : 'text-gray-600 dark:text-gray-400'
    ]}>
      {description}
    </p>
    <div class="flex items-baseline justify-center gap-1">
      <span class:list={[
        "text-5xl font-display font-bold",
        highlighted ? 'text-white dark:text-gray-900' : 'text-gray-900 dark:text-white'
      ]}>{price}</span>
      {period && <span class:list={[
        "text-sm",
        highlighted ? 'text-gray-400 dark:text-gray-500' : 'text-gray-500 dark:text-gray-400'
      ]}>/{period}</span>}
    </div>
  </div>

  <!-- Divider -->
  <div class:list={[
    "h-px mb-8",
    highlighted ? 'bg-white/20 dark:bg-gray-900/20' : 'bg-gray-200 dark:bg-gray-700'
  ]}></div>

  <ul class="space-y-4">
    {features.map((feature) => (
      <li class:list={[
        "flex items-start gap-3",
        highlighted ? 'text-gray-200 dark:text-gray-700' : 'text-gray-700 dark:text-gray-300'
      ]}>
        <div class:list={[
          "flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center mt-0.5",
          highlighted ? 'bg-green-500' : 'bg-green-100 dark:bg-green-900/50'
        ]}>
          <svg
            class:list={[
              "w-3 h-3",
              highlighted ? 'text-white' : 'text-green-600 dark:text-green-400'
            ]}
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
          </svg>
        </div>
        <span class="text-sm">{feature}</span>
      </li>
    ))}
  </ul>
</div>
